import{__awaiter,__generator,__spreadArray}from"tslib";import{b as balBrowser}from"./browser-9199b5e2.js";import{b as balIconClose,a as balIconInfoCircle,c as balIconPlus,d as balIconMinus,e as balIconEdit,f as balIconTrash,g as balIconNavGoLeft,h as balIconNavGoRight,i as balIconNavGoDown,j as balIconNavGoUp,k as balIconCaretLeft,l as balIconCaretDown,m as balIconCheck,n as balIconDate,o as balIconDocument,p as balIconUpload,q as balIconMenuBars}from"./icons.constant-35253412.js";var rIC=function(n){if(balBrowser.hasWindow&&"requestIdleCallback"in window){window.requestIdleCallback(n)}else{setTimeout(n,32)}};var wait=function(n){if(n===void 0){n=0}return new Promise((function(e){setTimeout((function(){return e()}),n)}))};var debounceEvent=function(n,e){var a=n._original||n;return{_original:n,emit:debounce(a.emit.bind(a),e)}};var debounce=function(n,e){if(e===void 0){e=0}var a;return function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}clearTimeout(a);a=setTimeout.apply(void 0,__spreadArray([n,e],t,false))}};var hasTagName=function(n,e){return n&&n.tagName&&n.tagName===e.toUpperCase()};var isDescendant=function(n,e){var a=e.parentNode;while(a!=null){if(a==n){return true}a=a.parentNode}return false};var hasParent=function(n,e){var a=e.parentNode;while(a!=null){if(a.tagName===n.toUpperCase()){return true}a=a.parentNode}return false};var getAppRoot=function(n){return n.querySelector("bal-app")||n.body};var componentOnReady=function(n,e){if(n.componentOnReady!==null&&n.componentOnReady!==undefined){n.componentOnReady().then((function(n){return e(n)}))}else{raf((function(){return e(n)}))}};var raf=function(n){if(typeof __zone_symbol__requestAnimationFrame==="function"){return __zone_symbol__requestAnimationFrame(n)}if(typeof requestAnimationFrame==="function"){return requestAnimationFrame(n)}return setTimeout(n)};var transitionEndAsync=function(n,e){if(e===void 0){e=0}return new Promise((function(a){transitionEnd(n,e,a)}))};var transitionEnd=function(n,e,a){if(e===void 0){e=0}var t;var r;var o={passive:true};var i=500;var s=function(){if(t){t()}};var c=function(e){if(e===undefined||n===e.target){s();a(e)}};if(n){n.addEventListener("webkitTransitionEnd",c,o);n.addEventListener("transitionend",c,o);r=setTimeout(c,e+i);t=function(){if(r){clearTimeout(r);r=undefined}n.removeEventListener("webkitTransitionEnd",c,o);n.removeEventListener("transitionend",c,o)}}return s};var addEventListener=function(n,e,a,t){return n.addEventListener(e,a,t)};var removeEventListener=function(n,e,a,t){return n.removeEventListener(e,a,t)};var shallowReady=function(n){if(n){return new Promise((function(e){return componentOnReady(n,e)}))}return Promise.resolve()};var deepReady=function(n,e){if(e===void 0){e=false}return __awaiter(void 0,void 0,void 0,(function(){var a,t;return __generator(this,(function(r){switch(r.label){case 0:a=n;if(!a)return[3,4];if(!(a.componentOnReady!==null&&a.componentOnReady!==undefined))return[3,2];return[4,a.componentOnReady()];case 1:t=r.sent();if(!e&&t!==null&&t!==undefined){return[2]}r.label=2;case 2:return[4,Promise.all(Array.from(a.children).map((function(n){return deepReady(n,e)})))];case 3:r.sent();r.label=4;case 4:return[2]}}))}))};var waitForComponent=function(n){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,deepReady(n,true)];case 1:e.sent();return[4,waitAfterFramePaint()];case 2:e.sent();return[4,waitAfterIdleCallback()];case 3:e.sent();return[2]}}))}))};var isChildOfEventTarget=function(n,e,a){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){if(n&&n.target&&e&&e!==n.target&&isDescendant(n.target,e)){a()}return[2]}))}))};var waitForDesignSystem=function(n,e){return __awaiter(void 0,void 0,void 0,(function(){var a,t,r;return __generator(this,(function(o){switch(o.label){case 0:a=Object.assign({animated:false,icons:{balIconClose:balIconClose,balIconInfoCircle:balIconInfoCircle,balIconPlus:balIconPlus,balIconMinus:balIconMinus,balIconEdit:balIconEdit,balIconTrash:balIconTrash,balIconNavGoLeft:balIconNavGoLeft,balIconNavGoRight:balIconNavGoRight,balIconNavGoDown:balIconNavGoDown,balIconNavGoUp:balIconNavGoUp,balIconCaretLeft:balIconCaretLeft,balIconCaretDown:balIconCaretDown,balIconCheck:balIconCheck,balIconDate:balIconDate,balIconDocument:balIconDocument,balIconUpload:balIconUpload,balIconMenuBars:balIconMenuBars}},e);t=n;if(!(t!==null&&t!==undefined))return[3,3];return[4,deepReady(t,true)];case 1:o.sent();r=Array.prototype.slice.call(t.querySelectorAll("*")).filter((function(n){return n.tagName.match(/^bal/i)}));return[4,Promise.all(r.map((function(n){if(n.configChanged!==null&&n.configChanged!==undefined){return n.configChanged(a)}})))];case 2:o.sent();o.label=3;case 3:return[4,waitAfterFramePaint()];case 4:o.sent();return[4,waitAfterIdleCallback()];case 5:o.sent();return[2]}}))}))};var waitAfterFramePaint=function(){return new Promise((function(n){return raf((function(){return runHighPrioritizedTask(n)}))}))};var waitAfterIdleCallback=function(){return new Promise((function(n){return rIC((function(){return runHighPrioritizedTask(n)}))}))};var runHighPrioritizedTask=function(n){if(balBrowser.hasWindow&&"MessageChannel"in window){var e=new window.MessageChannel;e.port1.onmessage=n;e.port2.postMessage(undefined)}else{setTimeout(n,32)}};export{waitForDesignSystem as a,waitAfterFramePaint as b,componentOnReady as c,debounce as d,waitAfterIdleCallback as e,deepReady as f,getAppRoot as g,wait as h,isDescendant as i,addEventListener as j,removeEventListener as k,raf as l,debounceEvent as m,hasParent as n,isChildOfEventTarget as o,hasTagName as p,rIC as r,shallowReady as s,transitionEndAsync as t,waitForComponent as w};