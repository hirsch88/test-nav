import{__awaiter,__generator}from"tslib";import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-e015dbc8.js";import{B as BEM}from"./bem-1b28532d.js";import{s as stopEventBubbling}from"./form-input-fd2d14ca.js";import{L as Logger}from"./log-01623e2c.js";import{FOCUS_KEYS}from"./focus-visible-06bce1ff.js";import{i as isDescendant}from"./helpers-08b28736.js";import{B as BalElementStateListener,L as ListenToElementStates}from"./element-states.decorator-5ee75fc4.js";import"./browser-9199b5e2.js";import"./icons.constant-35253412.js";import"./listener-ea90dc02.js";var balCheckboxButtonCss="@media (hover: hover)and (pointer: fine){.bal-checkbox-button__native.bal-focused{-webkit-box-shadow:var(--bal-focus-shadow) !important;box-shadow:var(--bal-focus-shadow) !important}}:root{--bal-radio-checkbox-select-button-background-hover:var(--bal-color-grey-2);--bal-radio-checkbox-select-button-background-active:var(--bal-color-grey-2);--bal-radio-checkbox-select-button-background-checked:var(--bal-color-primary);--bal-radio-checkbox-select-button-background-checked-hover:var(--bal-color-light-blue-5);--bal-radio-checkbox-select-button-background-checked-active:var(--bal-color-blue-6);--bal-radio-checkbox-select-button-background-invalid:var(--bal-color-danger-1);--bal-radio-checkbox-select-button-background-invalid-hover:var(--bal-color-danger-1);--bal-radio-checkbox-select-button-background-invalid-active:var(--bal-color-danger-1);--bal-radio-checkbox-select-button-background-invalid-checked:var(--bal-color-border-danger);--bal-radio-checkbox-select-button-background-invalid-checked-hover:var(--bal-color-danger-5);--bal-radio-checkbox-select-button-background-invalid-checked-active:var(--bal-color-danger-6);--bal-radio-checkbox-select-button-background-disabled-hover-active:var(--bal-color-grey-2);--bal-radio-checkbox-select-button-background-disabled-checked-hover-active:var(--bal-color-border-grey-dark);--bal-radio-checkbox-switch-label-background-before:var(--bal-color-blue-1);--bal-radio-checkbox-switch-label-background-after:var(--bal-color-primary);--bal-radio-checkbox-switch-label-background-hover-after:var(--bal-color-light-blue-5);--bal-radio-checkbox-switch-label-background-active-after:var(--bal-color-blue-6);--bal-radio-checkbox-switch-label-background-checked-before:var(--bal-color-success-4);--bal-radio-checkbox-switch-label-background-checked-after:var(--bal-color-white);--bal-radio-checkbox-switch-label-background-checked-hover-before:var(--bal-color-success-5);--bal-radio-checkbox-switch-label-background-checked-active-before:var(--bal-color-success-6);--bal-radio-checkbox-switch-label-background-invalid-before:var(--bal-color-danger-1);--bal-radio-checkbox-switch-label-background-invalid-after:var(--bal-color-border-danger);--bal-radio-checkbox-switch-label-background-invalid-hover-after:var(--bal-color-danger-6);--bal-radio-checkbox-switch-label-background-invalid-active-after:var(--bal-color-border-danger);--bal-radio-checkbox-switch-label-background-invalid-checked-before:var(--bal-color-danger-4);--bal-radio-checkbox-switch-label-background-invalid-checked-after:var(--bal-color-white);--bal-radio-checkbox-switch-label-background-invalid-checked-hover-before:var(--bal-color-danger-5);--bal-radio-checkbox-switch-label-background-invalid-checked-active-before:var(--bal-color-danger-6);--bal-radio-checkbox-switch-label-background-disabled-hover-active-before:var(--bal-color-grey-3);--bal-radio-checkbox-switch-label-background-disabled-hover-active-after:var(--bal-color-border-grey-dark);--bal-radio-checkbox-switch-label-background-disabled-checked-hover-active-before:var(--bal-color-border-grey-dark);--bal-radio-checkbox-switch-label-background-disabled-checked-hover-active-after:var(--bal-color-white);--bal-radio-checkbox-button-background:var(--bal-color-transparent);--bal-radio-checkbox-button-background-checked-green:var(--bal-color-green-1);--bal-radio-checkbox-button-background-checked-purple:var(--bal-color-purple-1);--bal-radio-checkbox-button-background-checked-red:var(--bal-color-red-1);--bal-radio-checkbox-button-background-checked-yellow:var(--bal-color-yellow-1);--bal-radio-checkbox-button-background-disabled:var(--bal-color-grey-1);--bal-radio-checkbox-button-background-hover:var(--bal-color-grey-1);--bal-radio-checkbox-select-button-border-color:var(--bal-color-primary);--bal-radio-checkbox-select-button-border-color-hover:var(--bal-color-light-blue-5);--bal-radio-checkbox-select-button-border-color-active:var(--bal-color-blue-6);--bal-radio-checkbox-select-button-border-color-invalid:var(--bal-color-border-danger);--bal-radio-checkbox-select-button-border-color-invalid-hover:var(--bal-color-danger-5);--bal-radio-checkbox-select-button-border-color-invalid-active:var(--bal-color-danger-6);--bal-radio-checkbox-select-button-border-color-invalid-checked:var(--bal-color-border-danger);--bal-radio-checkbox-select-button-border-color-invalid-checked-hover:var(--bal-color-danger-5);--bal-radio-checkbox-select-button-border-color-invalid-checked-active:var(--bal-color-danger-6);--bal-radio-checkbox-select-button-border-color-disabled-hover-active:var(--bal-color-border-grey-dark);--bal-radio-checkbox-select-button-border-color-disabled-checked-hover-active:var(--bal-color-border-grey-dark);--bal-radio-checkbox-button-border-color-hover:var(--bal-color-border-light-blue);--bal-radio-checkbox-button-border-color-active:var(--bal-color-border-primary-dark);--bal-radio-checkbox-button-border-color-invalid-hover:var(--bal-color-border-danger-dark);--bal-radio-checkbox-button-border-color-invalid-active:var(--bal-color-border-danger-darker);--bal-radio-checkbox-button-border-color:var(--bal-color-border-grey);--bal-radio-checkbox-button-border-color-checked:var(--bal-color-border-primary);--bal-radio-checkbox-button-border-color-disabled:var(--bal-color-border-grey-dark);--bal-radio-checkbox-button-border-color-invalid:var(--bal-color-border-danger)}.bal-checkbox-button{display:block;position:relative;-ms-flex:0 0 100%;flex:0 0 100%}@media screen and (min-width: 769px),print{.bal-checkbox-button--column-2{-ms-flex:0 0 calc(50% - var(--bal-space-normal)*1/2);flex:0 0 calc(50% - var(--bal-space-normal)*1/2)}.bal-checkbox-button--column-3{-ms-flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3);flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3)}.bal-checkbox-button--column-4{-ms-flex:0 0 calc(25% - var(--bal-space-normal)*3/4);flex:0 0 calc(25% - var(--bal-space-normal)*3/4)}}@media screen and (max-width: 768px){.bal-checkbox-button--column-mobile-2{-ms-flex:0 0 calc(50% - var(--bal-space-normal)*1/2);flex:0 0 calc(50% - var(--bal-space-normal)*1/2)}.bal-checkbox-button--column-mobile-3{-ms-flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3);flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3)}.bal-checkbox-button--column-mobile-4{-ms-flex:0 0 calc(25% - var(--bal-space-normal)*3/4);flex:0 0 calc(25% - var(--bal-space-normal)*3/4)}}@media screen and (min-width: 769px),print{.bal-checkbox-button--column-tablet-2{-ms-flex:0 0 calc(50% - var(--bal-space-normal)*1/2);flex:0 0 calc(50% - var(--bal-space-normal)*1/2)}.bal-checkbox-button--column-tablet-3{-ms-flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3);flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3)}.bal-checkbox-button--column-tablet-4{-ms-flex:0 0 calc(25% - var(--bal-space-normal)*3/4);flex:0 0 calc(25% - var(--bal-space-normal)*3/4)}}@media screen and (min-width: 1024px){.bal-checkbox-button--column-2{-ms-flex:0 0 calc(50% - var(--bal-space-normal)*1/2);flex:0 0 calc(50% - var(--bal-space-normal)*1/2)}.bal-checkbox-button--column-3{-ms-flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3);flex:0 0 calc(33.3333333333% - var(--bal-space-normal)*2/3)}.bal-checkbox-button--column-4{-ms-flex:0 0 calc(25% - var(--bal-space-normal)*3/4);flex:0 0 calc(25% - var(--bal-space-normal)*3/4)}}.bal-checkbox-button__native{display:block;width:100%;height:100%;background:var(--bal-radio-checkbox-button-background);border-style:var(--bal-form-field-control-border-style);border-radius:var(--bal-form-field-control-radius);border-width:var(--bal-form-field-control-border-width);border-color:var(--bal-radio-checkbox-button-border-color);padding:var(--bal-size-medium);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bal-checkbox-button__native--checked{border-color:var(--bal-radio-checkbox-button-border-color-checked)}.bal-checkbox-button__native--checked.bal-checkbox-button__native--color-green{background:var(--bal-radio-checkbox-button-background-checked-green)}.bal-checkbox-button__native--checked.bal-checkbox-button__native--color-purple{background:var(--bal-radio-checkbox-button-background-checked-purple)}.bal-checkbox-button__native--checked.bal-checkbox-button__native--color-red{background:var(--bal-radio-checkbox-button-background-checked-red)}.bal-checkbox-button__native--checked.bal-checkbox-button__native--color-yellow{background:var(--bal-radio-checkbox-button-background-checked-yellow)}.bal-checkbox-button__native:disabled,.bal-checkbox-button__native--disabled{background:var(--bal-radio-checkbox-button-background-disabled);border-color:var(--bal-radio-checkbox-button-border-color-disabled);cursor:default}.bal-checkbox-button__native--invalid{border-color:var(--bal-radio-checkbox-button-border-color-invalid)}@media (hover: hover)and (pointer: fine){.bal-checkbox-button__native:hover:not(:disabled):not(.bal-checkbox-button__native--colored){background:var(--bal-radio-checkbox-button-background-hover);border-color:var(--bal-radio-checkbox-button-border-color-hover)}}.bal-checkbox-button__native:active:not(:disabled){border-color:var(--bal-radio-checkbox-button-border-color-active)}@media (hover: hover)and (pointer: fine){.bal-checkbox-button__native--invalid:hover:not(:disabled){border-color:var(--bal-radio-checkbox-button-border-color-invalid-hover)}.bal-checkbox-button__native--invalid:active:not(:disabled){border-color:var(--bal-radio-checkbox-button-border-color-invalid-active)}}";var __decorate=undefined&&undefined.__decorate||function(e,o,a,r){var c=arguments.length,l=c<3?o:r===null?r=Object.getOwnPropertyDescriptor(o,a):r,t;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")l=Reflect.decorate(e,o,a,r);else for(var b=e.length-1;b>=0;b--)if(t=e[b])l=(c<3?t(l):c>3?t(o,a,l):t(o,a))||l;return c>3&&l&&Object.defineProperty(o,a,l),l};var BalCheckboxButton=function(){function e(e){var o=this;registerInstance(this,e);this.balFocus=createEvent(this,"balFocus",7);this.balBlur=createEvent(this,"balBlur",7);this.balFormControlDidLoad=createEvent(this,"balFormControlDidLoad",7);this.keyboardMode=true;this.onClick=function(e){if(o.disabled||o.readonly){return stopEventBubbling(e)}var a=e.target;if(a&&a.href){return}var r=o.el.querySelector("bal-checkbox");var c=e.target;if(r&&c){var l=c===r||isDescendant(r,c);if(!l){stopEventBubbling(e);r.click()}}};this.onFocus=function(e){var a;if(o.disabled||o.readonly){return stopEventBubbling(e)}var r=o.el.querySelector("bal-checkbox");var c=e.target;if(o.keyboardMode){o.focused=true}if(r&&c){var l=c===r||isDescendant(r,c);if(l){stopEventBubbling(e);(a=r.querySelector("input"))===null||a===void 0?void 0:a.focus()}}else{o.balFocus.emit()}};this.onBlur=function(e){var a;if(o.disabled||o.readonly){return stopEventBubbling(e)}var r=o.el.querySelector("bal-checkbox");var c=e.target;o.focused=false;if(r&&c){var l=c===r||isDescendant(r,c);if(l){stopEventBubbling(e);(a=r.querySelector("input"))===null||a===void 0?void 0:a.blur()}}else{o.balBlur.emit()}};this.onPointerDown=function(){return o.keyboardMode=false};this.onKeydown=function(e){return o.keyboardMode=FOCUS_KEYS.includes(e.key)};this.interactionState=BalElementStateListener.DefaultState;this.checked=false;this.focused=false;this.invalid=undefined;this.disabled=undefined;this.readonly=undefined;this.color=undefined;this.colSize=1;this.colSizeTablet=1;this.colSizeMobile=1}e.prototype.createLogger=function(e){this.log=e};e.prototype.invalidHandler=function(){this.updateProps("invalid",["bal-checkbox","bal-icon","bal-label","bal-text"])};e.prototype.disabledHandler=function(){this.updateProps("disabled",["bal-checkbox","bal-icon","bal-label","bal-text"])};e.prototype.readonlyHandler=function(){this.updateProps("readonly",["bal-checkbox","bal-icon","bal-label","bal-text"])};e.prototype.connectedCallback=function(){this.triggerAllHandlers();this.el.addEventListener("keydown",this.onKeydown);this.el.addEventListener("touchstart",this.onPointerDown);this.el.addEventListener("mousedown",this.onPointerDown)};e.prototype.componentWillLoad=function(){this.triggerAllHandlers()};e.prototype.componentDidLoad=function(){this.balFormControlDidLoad.emit(this.el)};e.prototype.disconnectedCallback=function(){this.el.removeEventListener("keydown",this.onKeydown);this.el.removeEventListener("touchstart",this.onPointerDown);this.el.removeEventListener("mousedown",this.onPointerDown)};e.prototype.elementStateListener=function(e){this.interactionChildElements.forEach((function(o){o.hovered=e.hovered;o.pressed=e.pressed}))};e.prototype.setChecked=function(e){if(e===void 0){e=true}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(o){this.checked=e;return[2]}))}))};Object.defineProperty(e.prototype,"interactionChildElements",{get:function(){return Array.from(this.el.querySelectorAll("bal-label, bal-text, bal-icon, bal-checkbox"))},enumerable:false,configurable:true});e.prototype.triggerAllHandlers=function(){this.disabledHandler();this.readonlyHandler();this.invalidHandler()};e.prototype.updateProps=function(e,o){var a=this[e];if(a!==undefined){this.notifyComponents(o,(function(o){return o[e]=a}))}};e.prototype.notifyComponents=function(e,o){var a=this.el.querySelectorAll(e.join(", "));a.forEach((function(e){return o(e)}))};e.prototype.render=function(){var e=BEM.block("checkbox-button");var o=!!this.disabled||!!this.readonly;var a=!!this.invalid;var r=!!this.color;var c=this.checked&&r;return h(Host,{class:Object.assign(Object.assign(Object.assign(Object.assign({},e.class()),e.modifier("column-".concat(this.colSize)).class(this.colSize>1)),e.modifier("column-tablet-".concat(this.colSizeTablet)).class(this.colSizeTablet>1)),e.modifier("column-mobile-".concat(this.colSizeMobile)).class(this.colSizeMobile>1)),onClick:this.onClick},h("button",{role:"checkbox",class:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.element("native").class()),e.element("native").modifier("disabled").class(o)),e.element("native").modifier("invalid").class(a)),e.element("native").modifier("checked").class(this.checked)),e.element("native").modifier("colored").class(c)),e.element("native").modifier("color-".concat(this.color)).class(r)),{"bal-focusable":!this.disabled}),disabled:o,onFocus:this.onFocus,onBlur:this.onBlur},h("slot",null)))};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{invalid:["invalidHandler"],disabled:["disabledHandler"],readonly:["readonlyHandler"]}},enumerable:false,configurable:true});return e}();__decorate([Logger("bal-checkbox-button")],BalCheckboxButton.prototype,"createLogger",null);__decorate([ListenToElementStates()],BalCheckboxButton.prototype,"elementStateListener",null);BalCheckboxButton.style={css:balCheckboxButtonCss};export{BalCheckboxButton as bal_checkbox_button};