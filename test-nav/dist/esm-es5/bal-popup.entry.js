import{__assign,__awaiter,__extends,__generator,__rest,__spreadArray}from"tslib";import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-e015dbc8.js";import{q as isEscapeKey}from"./index.esm-df73647b.js";import{B as BEM}from"./bem-1b28532d.js";import{b as balBrowser}from"./browser-9199b5e2.js";import{s as stopEventBubbling}from"./form-input-fd2d14ca.js";import{d as debounce}from"./helpers-08b28736.js";import{L as Logger}from"./log-01623e2c.js";import{focusableQueryString}from"./focus-visible-06bce1ff.js";import"./index-82aff103.js";import"./_commonjsHelpers-ba3f0406.js";import"./icons.constant-35253412.js";var AbstractVariantRenderer=function(){function e(){}e.prototype.showContainerElement=function(e){if(e.containerEl){this.showElement(e.containerEl)}};e.prototype.hideContainerElement=function(e){if(e.containerEl){this.hideElement(e.containerEl)}};e.prototype.showArrowElement=function(e,t){if(t===void 0){t=e.arrow}if(t&&e.arrowEl){this.showElement(e.arrowEl)}};e.prototype.hideArrowElement=function(e){if(e.arrowEl){Object.assign(e.arrowEl.style,{left:"",top:"",display:"none",visibility:"hidden"})}};e.prototype.showBackdropElement=function(e,t){if(t===void 0){t=e.backdrop}if(t&&e.backdropEl){this.showElement(e.backdropEl)}};e.prototype.hideBackdropElement=function(e){if(e.backdropEl){this.hideElement(e.backdropEl)}};e.prototype.showElement=function(e){if(e){e.style.setProperty("display","block");e.style.setProperty("visibility","visible")}};e.prototype.hideElement=function(e){if(e){e.style.removeProperty("display");e.style.removeProperty("visibility")}};return e}();var DrawerVariantRenderer=function(e){__extends(t,e);function t(){var t=e.apply(this,arguments)||this;t.backdrop=false;t.offset=0;return t}t.prototype.present=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(e.containerEl&&e.trigger&&e.backdropEl){this.backdrop=e.getBooleanValue(e.trigger,"bal-popup-backdrop",e.backdrop);this.offset=e.getValue(e.trigger,"bal-popup-offset",e.offset);e.containerEl.style.setProperty("inset","auto 0px 0px 0px");e.containerEl.style.setProperty("bottom","".concat(this.offset,"px"));e.backdropEl.style.setProperty("bottom","".concat(this.offset,"px"));e.containerEl.classList.add("container");this.showBackdropElement(e,this.backdrop);this.showContainerElement(e);return[2,true]}return[2,false]}))}))};t.prototype.update=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,false]}))}))};t.prototype.dismiss=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(e.containerEl&&e.backdropEl){e.balWillAnimate.emit();this.hideBackdropElement(e);this.hideContainerElement(e);e.containerEl.style.removeProperty("inset");e.containerEl.classList.remove("container");e.containerEl.style.removeProperty("bottom");e.backdropEl.style.removeProperty("bottom");return[2,true]}return[2,false]}))}))};return t}(AbstractVariantRenderer);var FullscreenVariantRenderer=function(e){__extends(t,e);function t(){var t=e.apply(this,arguments)||this;t.offset=0;return t}t.prototype.present=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(e.containerEl&&e.trigger){this.offset=e.getValue(e.trigger,"bal-popup-offset",e.offset);e.containerEl.style.setProperty("inset","".concat(this.offset,"px auto auto 0px"));if(this.offset>0){e.containerEl.style.setProperty("box-shadow","inset var(--bal-nav-meta-bar-variant-white-shadow)")}this.showBackdropElement(e);this.showContainerElement(e);this.showArrowElement(e);e.containerEl.classList.add("container");return[2,true]}return[2,false]}))}))};t.prototype.update=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,false]}))}))};t.prototype.dismiss=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(e.containerEl){this.hideBackdropElement(e);this.hideContainerElement(e);this.hideArrowElement(e);e.containerEl.style.removeProperty("box-shadow");e.containerEl.style.removeProperty("inset");e.containerEl.classList.remove("container");return[2,true]}return[2,false]}))}))};return t}(AbstractVariantRenderer);function getAlignment(e){return e.split("-")[1]}function getLengthFromAxis(e){return e==="y"?"height":"width"}function getSide(e){return e.split("-")[0]}function getMainAxisFromPlacement(e){return["top","bottom"].includes(getSide(e))?"x":"y"}function computeCoordsFromPlacement(e,t,r){var n=e.reference,i=e.floating;var o=n.x+n.width/2-i.width/2;var a=n.y+n.height/2-i.height/2;var s=getMainAxisFromPlacement(t);var l=getLengthFromAxis(s);var c=n[l]/2-i[l]/2;var u=getSide(t);var p=s==="x";var f;switch(u){case"top":f={x:o,y:n.y-i.height};break;case"bottom":f={x:o,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:a};break;case"left":f={x:n.x-i.width,y:a};break;default:f={x:n.x,y:n.y}}switch(getAlignment(t)){case"start":f[s]-=c*(r&&p?-1:1);break;case"end":f[s]+=c*(r&&p?-1:1);break}return f}var computePosition$1=function(e,t,r){return __awaiter(void 0,void 0,void 0,(function(){var n,i,o,a,s,l,c,u,p,f,d,g,h,v,m,b,w,y,_,x,E,C,A,R,k,O;var P,V;return __generator(this,(function(S){switch(S.label){case 0:n=r.placement,i=n===void 0?"bottom":n,o=r.strategy,a=o===void 0?"absolute":o,s=r.middleware,l=s===void 0?[]:s,c=r.platform;u=l.filter(Boolean);return[4,c.isRTL==null?void 0:c.isRTL(t)];case 1:p=S.sent();return[4,c.getElementRects({reference:e,floating:t,strategy:a})];case 2:f=S.sent();d=computeCoordsFromPlacement(f,i,p),g=d.x,h=d.y;v=i;m={};b=0;w=0;S.label=3;case 3:if(!(w<u.length))return[3,11];y=u[w],_=y.name,x=y.fn;return[4,x({x:g,y:h,initialPlacement:i,placement:v,strategy:a,middlewareData:m,rects:f,platform:c,elements:{reference:e,floating:t}})];case 4:E=S.sent(),C=E.x,A=E.y,R=E.data,k=E.reset;g=C!=null?C:g;h=A!=null?A:h;m=__assign(__assign({},m),(P={},P[_]=__assign(__assign({},m[_]),R),P));if(!(k&&b<=50))return[3,10];b++;if(!(typeof k==="object"))return[3,9];if(k.placement){v=k.placement}if(!k.rects)return[3,8];if(!(k.rects===true))return[3,6];return[4,c.getElementRects({reference:e,floating:t,strategy:a})];case 5:O=S.sent();return[3,7];case 6:O=k.rects;S.label=7;case 7:f=O;S.label=8;case 8:V=computeCoordsFromPlacement(f,v,p),g=V.x,h=V.y;S.label=9;case 9:w=-1;return[3,10];case 10:w++;return[3,3];case 11:return[2,{x:g,y:h,placement:v,strategy:a,middlewareData:m}]}}))}))};function expandPaddingObject(e){return __assign({top:0,right:0,bottom:0,left:0},e)}function getSideObjectFromPadding(e){return typeof e!=="number"?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){return __assign(__assign({},e),{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function detectOverflow(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,c,u,p,f,d,g,h,v,m,b,w,y,_,x,E,C,A,R,k,O,P,V,S,L,T,B;var D;return __generator(this,(function(N){switch(N.label){case 0:if(t===void 0){t={}}n=e.x,i=e.y,o=e.platform,a=e.rects,s=e.elements,l=e.strategy;c=t.boundary,u=c===void 0?"clippingAncestors":c,p=t.rootBoundary,f=p===void 0?"viewport":p,d=t.elementContext,g=d===void 0?"floating":d,h=t.altBoundary,v=h===void 0?false:h,m=t.padding,b=m===void 0?0:m;w=getSideObjectFromPadding(b);y=g==="floating"?"reference":"floating";_=s[v?y:g];E=rectToClientRect;A=(C=o).getClippingRect;D={};return[4,o.isElement==null?void 0:o.isElement(_)];case 1:if(!((r=N.sent())!=null?r:true))return[3,2];R=_;return[3,5];case 2:k=_.contextElement;if(k)return[3,4];return[4,o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)];case 3:k=N.sent();N.label=4;case 4:R=k;N.label=5;case 5:return[4,A.apply(C,[(D.element=R,D.boundary=u,D.rootBoundary=f,D.strategy=l,D)])];case 6:x=E.apply(void 0,[N.sent()]);O=g==="floating"?__assign(__assign({},a.floating),{x:n,y:i}):a.reference;return[4,o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)];case 7:P=N.sent();return[4,o.isElement==null?void 0:o.isElement(P)];case 8:if(!N.sent())return[3,10];return[4,o.getScale==null?void 0:o.getScale(P)];case 9:S=N.sent()||{x:1,y:1};return[3,11];case 10:S={x:1,y:1};N.label=11;case 11:V=S;T=rectToClientRect;if(!o.convertOffsetParentRelativeRectToViewportRelativeRect)return[3,13];return[4,o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:O,offsetParent:P,strategy:l})];case 12:B=N.sent();return[3,14];case 13:B=O;N.label=14;case 14:L=T.apply(void 0,[B]);return[2,{top:(x.top-L.top+w.top)/V.y,bottom:(L.bottom-x.bottom+w.bottom)/V.y,left:(x.left-L.left+w.left)/V.x,right:(L.right-x.right+w.right)/V.x}]}}))}))}var min$1=Math.min;var max$1=Math.max;function within(e,t,r){return max$1(e,min$1(t,r))}var arrow=function(e){return{name:"arrow",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,c,u,p,f,d,g,h,v,m,b,w,y,_,x,E,C,A,R,k,O,P,V,S,L;var T,B;return __generator(this,(function(D){switch(D.label){case 0:r=e||{},n=r.element,i=r.padding,o=i===void 0?0:i;a=t.x,s=t.y,l=t.placement,c=t.rects,u=t.platform,p=t.elements;if(n==null){return[2,{}]}f=getSideObjectFromPadding(o);d={x:a,y:s};g=getMainAxisFromPlacement(l);h=getLengthFromAxis(g);return[4,u.getDimensions(n)];case 1:v=D.sent();m=g==="y";b=m?"top":"left";w=m?"bottom":"right";y=m?"clientHeight":"clientWidth";_=c.reference[h]+c.reference[g]-d[g]-c.floating[h];x=d[g]-c.reference[g];return[4,u.getOffsetParent==null?void 0:u.getOffsetParent(n)];case 2:E=D.sent();C=E?E[y]:0;A=!C;if(A)return[3,4];return[4,u.isElement==null?void 0:u.isElement(E)];case 3:A=!D.sent();D.label=4;case 4:if(A){C=p.floating[y]||c.floating[h]}R=_/2-x/2;k=f[b];O=C-v[h]-f[w];P=C/2-v[h]/2+R;V=within(k,P,O);S=getAlignment(l)!=null&&P!=V&&c.reference[h]/2-(P<k?f[b]:f[w])-v[h]/2<0;L=S?P<k?k-P:O-P:0;return[2,(T={},T[g]=d[g]-L,T.data=(B={},B[g]=V,B.centerOffset=P-V,B),T)]}}))}))}}};var oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,(function(e){return oppositeSideMap[e]}))}function getAlignmentSides(e,t,r){if(r===void 0){r=false}var n=getAlignment(e);var i=getMainAxisFromPlacement(e);var o=getLengthFromAxis(i);var a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";if(t.reference[o]>t.floating[o]){a=getOppositePlacement(a)}return{main:a,cross:getOppositePlacement(a)}}var oppositeAlignmentMap={start:"end",end:"start"};function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,(function(e){return oppositeAlignmentMap[e]}))}function getExpandedPlacements(e){var t=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),t,getOppositeAlignmentPlacement(t)]}function getSideList(e,t,r){var n=["left","right"];var i=["right","left"];var o=["top","bottom"];var a=["bottom","top"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?o:a;default:return[]}}function getOppositeAxisPlacements(e,t,r,n){var i=getAlignment(e);var o=getSideList(getSide(e),r==="start",n);if(i){o=o.map((function(e){return e+"-"+i}));if(t){o=o.concat(o.map(getOppositeAlignmentPlacement))}}return o}var flip=function(e){if(e===void 0){e={}}return{name:"flip",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,c,u,p,f,d,g,h,v,m,b,w,y,_,x,E,C,A,R,k,O,P,V,S,L,T,B,D,N,F,W;return __generator(this,(function(M){switch(M.label){case 0:n=t.placement,i=t.middlewareData,o=t.rects,a=t.initialPlacement,s=t.platform,l=t.elements;c=e.mainAxis,u=c===void 0?true:c,p=e.crossAxis,f=p===void 0?true:p,d=e.fallbackPlacements,g=e.fallbackStrategy,h=g===void 0?"bestFit":g,v=e.fallbackAxisSideDirection,m=v===void 0?"none":v,b=e.flipAlignment,w=b===void 0?true:b,y=__rest(e,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);_=getSide(n);x=getSide(a)===a;return[4,s.isRTL==null?void 0:s.isRTL(l.floating)];case 1:E=M.sent();C=d||(x||!w?[getOppositePlacement(a)]:getExpandedPlacements(a));if(!d&&m!=="none"){C.push.apply(C,getOppositeAxisPlacements(a,w,m,E))}A=__spreadArray([a],C,true);return[4,detectOverflow(t,y)];case 2:R=M.sent();k=[];O=((r=i.flip)==null?void 0:r.overflows)||[];if(u){k.push(R[_])}if(f){P=getAlignmentSides(n,o,E),V=P.main,S=P.cross;k.push(R[V],R[S])}O=__spreadArray(__spreadArray([],O,true),[{placement:n,overflows:k}],false);if(!k.every((function(e){return e<=0}))){B=(((L=i.flip)==null?void 0:L.index)||0)+1;D=A[B];if(D){return[2,{data:{index:B,overflows:O},reset:{placement:D}}]}N=(T=O.filter((function(e){return e.overflows[0]<=0})).sort((function(e,t){return e.overflows[1]-t.overflows[1]}))[0])==null?void 0:T.placement;if(!N){switch(h){case"bestFit":{W=(F=O.map((function(e){return[e.placement,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])==null?void 0:F[0];if(W){N=W}break}case"initialPlacement":N=a;break}}if(n!==N){return[2,{reset:{placement:N}}]}}return[2,{}]}}))}))}}};function convertValueToCoords(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,c,u,p,f,d,g,h;return __generator(this,(function(v){switch(v.label){case 0:r=e.placement,n=e.platform,i=e.elements;return[4,n.isRTL==null?void 0:n.isRTL(i.floating)];case 1:o=v.sent();a=getSide(r);s=getAlignment(r);l=getMainAxisFromPlacement(r)==="x";c=["left","top"].includes(a)?-1:1;u=o&&l?-1:1;p=typeof t==="function"?t(e):t;f=typeof p==="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:__assign({mainAxis:0,crossAxis:0,alignmentAxis:null},p),d=f.mainAxis,g=f.crossAxis,h=f.alignmentAxis;if(s&&typeof h==="number"){g=s==="end"?h*-1:h}return[2,l?{x:g*u,y:d*c}:{x:d*c,y:g*u}]}}))}))}var offset=function(e){if(e===void 0){e=0}return{name:"offset",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var r,n,i;return __generator(this,(function(o){switch(o.label){case 0:r=t.x,n=t.y;return[4,convertValueToCoords(t,e)];case 1:i=o.sent();return[2,{x:r+i.x,y:n+i.y,data:i}]}}))}))}}};function getCrossAxis(e){return e==="x"?"y":"x"}var shift=function(e){if(e===void 0){e={}}return{name:"shift",options:e,fn:function(t){return __awaiter(this,void 0,void 0,(function(){var r,n,i,o,a,s,l,c,u,p,f,d,g,h,v,m,b,w,y,_,b,w,x,E,C;var A;return __generator(this,(function(R){switch(R.label){case 0:r=t.x,n=t.y,i=t.placement;o=e.mainAxis,a=o===void 0?true:o,s=e.crossAxis,l=s===void 0?false:s,c=e.limiter,u=c===void 0?{fn:function(e){var t=e.x,r=e.y;return{x:t,y:r}}}:c,p=__rest(e,["mainAxis","crossAxis","limiter"]);f={x:r,y:n};return[4,detectOverflow(t,p)];case 1:d=R.sent();g=getMainAxisFromPlacement(getSide(i));h=getCrossAxis(g);v=f[g];m=f[h];if(a){b=g==="y"?"top":"left";w=g==="y"?"bottom":"right";y=v+d[b];_=v-d[w];v=within(y,v,_)}if(l){b=h==="y"?"top":"left";w=h==="y"?"bottom":"right";x=m+d[b];E=m-d[w];m=within(x,m,E)}C=u.fn(__assign(__assign({},t),(A={},A[g]=v,A[h]=m,A)));return[2,__assign(__assign({},C),{data:{x:C.x-r,y:C.y-n}})]}}))}))}}};function getWindow(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function getComputedStyle$1(e){return getWindow(e).getComputedStyle(e)}function isNode(e){return e instanceof getWindow(e).Node}function getNodeName(e){return isNode(e)?(e.nodeName||"").toLowerCase():""}function isHTMLElement(e){return e instanceof getWindow(e).HTMLElement}function isElement(e){return e instanceof getWindow(e).Element}function isShadowRoot(e){if(typeof ShadowRoot==="undefined"){return false}var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function isOverflowElement(e){var t=getComputedStyle$1(e),r=t.overflow,n=t.overflowX,i=t.overflowY,o=t.display;return/auto|scroll|overlay|hidden|clip/.test(r+i+n)&&!["inline","contents"].includes(o)}function isTableElement(e){return["table","td","th"].includes(getNodeName(e))}function isContainingBlock(e){var t=isSafari();var r=getComputedStyle$1(e);return r.transform!=="none"||r.perspective!=="none"||!t&&(r.backdropFilter?r.backdropFilter!=="none":false)||!t&&(r.filter?r.filter!=="none":false)||["transform","perspective","filter"].some((function(e){return(r.willChange||"").includes(e)}))||["paint","layout","strict","content"].some((function(e){return(r.contain||"").includes(e)}))}function isSafari(){if(typeof CSS==="undefined"||!CSS.supports)return false;return CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(e){return["html","body","#document"].includes(getNodeName(e))}var min=Math.min;var max=Math.max;var round=Math.round;function getCssDimensions(e){var t=getComputedStyle$1(e);var r=parseFloat(t.width)||0;var n=parseFloat(t.height)||0;var i=isHTMLElement(e);var o=i?e.offsetWidth:r;var a=i?e.offsetHeight:n;var s=round(r)!==o||round(n)!==a;if(s){r=o;n=a}return{width:r,height:n,fallback:s}}function unwrapElement(e){return!isElement(e)?e.contextElement:e}var FALLBACK_SCALE={x:1,y:1};function getScale(e){var t=unwrapElement(e);if(!isHTMLElement(t)){return FALLBACK_SCALE}var r=t.getBoundingClientRect();var n=getCssDimensions(t),i=n.width,o=n.height,a=n.fallback;var s=(a?round(r.width):r.width)/i;var l=(a?round(r.height):r.height)/o;if(!s||!Number.isFinite(s)){s=1}if(!l||!Number.isFinite(l)){l=1}return{x:s,y:l}}var noOffsets={x:0,y:0};function getVisualOffsets(e,t,r){var n,i;if(t===void 0){t=true}if(!isSafari()){return noOffsets}var o=e?getWindow(e):window;if(!r||t&&r!==o){return noOffsets}return{x:((n=o.visualViewport)==null?void 0:n.offsetLeft)||0,y:((i=o.visualViewport)==null?void 0:i.offsetTop)||0}}function getBoundingClientRect(e,t,r,n){if(t===void 0){t=false}if(r===void 0){r=false}var i=e.getBoundingClientRect();var o=unwrapElement(e);var a=FALLBACK_SCALE;if(t){if(n){if(isElement(n)){a=getScale(n)}}else{a=getScale(e)}}var s=getVisualOffsets(o,r,n);var l=(i.left+s.x)/a.x;var c=(i.top+s.y)/a.y;var u=i.width/a.x;var p=i.height/a.y;if(o){var f=getWindow(o);var d=n&&isElement(n)?getWindow(n):n;var g=f.frameElement;while(g&&n&&d!==f){var h=getScale(g);var v=g.getBoundingClientRect();var m=getComputedStyle(g);v.x+=(g.clientLeft+parseFloat(m.paddingLeft))*h.x;v.y+=(g.clientTop+parseFloat(m.paddingTop))*h.y;l*=h.x;c*=h.y;u*=h.x;p*=h.y;l+=v.x;c+=v.y;g=getWindow(g).frameElement}}return rectToClientRect({width:u,height:p,x:l,y:c})}function getDocumentElement(e){return((isNode(e)?e.ownerDocument:e.document)||window.document).documentElement}function getNodeScroll(e){if(isElement(e)){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function convertOffsetParentRelativeRectToViewportRelativeRect(e){var t=e.rect,r=e.offsetParent,n=e.strategy;var i=isHTMLElement(r);var o=getDocumentElement(r);if(r===o){return t}var a={scrollLeft:0,scrollTop:0};var s={x:1,y:1};var l={x:0,y:0};if(i||!i&&n!=="fixed"){if(getNodeName(r)!=="body"||isOverflowElement(o)){a=getNodeScroll(r)}if(isHTMLElement(r)){var c=getBoundingClientRect(r);s=getScale(r);l.x=c.x+r.clientLeft;l.y=c.y+r.clientTop}}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getNodeScroll(e).scrollLeft}function getDocumentRect(e){var t=getDocumentElement(e);var r=getNodeScroll(e);var n=e.ownerDocument.body;var i=max(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth);var o=max(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);var a=-r.scrollLeft+getWindowScrollBarX(e);var s=-r.scrollTop;if(getComputedStyle$1(n).direction==="rtl"){a+=max(t.clientWidth,n.clientWidth)-i}return{width:i,height:o,x:a,y:s}}function getParentNode(e){if(getNodeName(e)==="html"){return e}var t=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(t)?t.host:t}function getNearestOverflowAncestor(e){var t=getParentNode(e);if(isLastTraversableNode(t)){return t.ownerDocument.body}if(isHTMLElement(t)&&isOverflowElement(t)){return t}return getNearestOverflowAncestor(t)}function getOverflowAncestors(e,t){var r;if(t===void 0){t=[]}var n=getNearestOverflowAncestor(e);var i=n===((r=e.ownerDocument)==null?void 0:r.body);var o=getWindow(n);if(i){return t.concat(o,o.visualViewport||[],isOverflowElement(n)?n:[])}return t.concat(n,getOverflowAncestors(n))}function getViewportRect(e,t){var r=getWindow(e);var n=getDocumentElement(e);var i=r.visualViewport;var o=n.clientWidth;var a=n.clientHeight;var s=0;var l=0;if(i){o=i.width;a=i.height;var c=isSafari();if(!c||c&&t==="fixed"){s=i.offsetLeft;l=i.offsetTop}}return{width:o,height:a,x:s,y:l}}function getInnerBoundingClientRect(e,t){var r=getBoundingClientRect(e,true,t==="fixed");var n=r.top+e.clientTop;var i=r.left+e.clientLeft;var o=isHTMLElement(e)?getScale(e):{x:1,y:1};var a=e.clientWidth*o.x;var s=e.clientHeight*o.y;var l=i*o.x;var c=n*o.y;return{width:a,height:s,x:l,y:c}}function getClientRectFromClippingAncestor(e,t,r){var n;if(t==="viewport"){n=getViewportRect(e,r)}else if(t==="document"){n=getDocumentRect(getDocumentElement(e))}else if(isElement(t)){n=getInnerBoundingClientRect(t,r)}else{var i=getVisualOffsets(e);n=__assign(__assign({},t),{x:t.x-i.x,y:t.y-i.y})}return rectToClientRect(n)}function hasFixedPositionAncestor(e,t){var r=getParentNode(e);if(r===t||!isElement(r)||isLastTraversableNode(r)){return false}return getComputedStyle$1(r).position==="fixed"||hasFixedPositionAncestor(r,t)}function getClippingElementAncestors(e,t){var r=t.get(e);if(r){return r}var n=getOverflowAncestors(e).filter((function(e){return isElement(e)&&getNodeName(e)!=="body"}));var i=null;var o=getComputedStyle$1(e).position==="fixed";var a=o?getParentNode(e):e;while(isElement(a)&&!isLastTraversableNode(a)){var s=getComputedStyle$1(a);var l=isContainingBlock(a);if(!l&&s.position==="fixed"){i=null}var c=o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||isOverflowElement(a)&&!l&&hasFixedPositionAncestor(e,a);if(c){n=n.filter((function(e){return e!==a}))}else{i=s}a=getParentNode(a)}t.set(e,n);return n}function getClippingRect(e){var t=e.element,r=e.boundary,n=e.rootBoundary,i=e.strategy;var o=r==="clippingAncestors"?getClippingElementAncestors(t,this._c):[].concat(r);var a=__spreadArray(__spreadArray([],o,true),[n],false);var s=a[0];var l=a.reduce((function(e,r){var n=getClientRectFromClippingAncestor(t,r,i);e.top=max(n.top,e.top);e.right=min(n.right,e.right);e.bottom=min(n.bottom,e.bottom);e.left=max(n.left,e.left);return e}),getClientRectFromClippingAncestor(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function getDimensions(e){return getCssDimensions(e)}function getTrueOffsetParent(e,t){if(!isHTMLElement(e)||getComputedStyle$1(e).position==="fixed"){return null}if(t){return t(e)}return e.offsetParent}function getContainingBlock(e){var t=getParentNode(e);while(isHTMLElement(t)&&!isLastTraversableNode(t)){if(isContainingBlock(t)){return t}else{t=getParentNode(t)}}return null}function getOffsetParent(e,t){var r=getWindow(e);if(!isHTMLElement(e)){return r}var n=getTrueOffsetParent(e,t);while(n&&isTableElement(n)&&getComputedStyle$1(n).position==="static"){n=getTrueOffsetParent(n,t)}if(n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle$1(n).position==="static"&&!isContainingBlock(n))){return r}return n||getContainingBlock(e)||r}function getRectRelativeToOffsetParent(e,t,r){var n=isHTMLElement(t);var i=getDocumentElement(t);var o=r==="fixed";var a=getBoundingClientRect(e,true,o,t);var s={scrollLeft:0,scrollTop:0};var l={x:0,y:0};if(n||!n&&!o){if(getNodeName(t)!=="body"||isOverflowElement(i)){s=getNodeScroll(t)}if(isHTMLElement(t)){var c=getBoundingClientRect(t,true,o,t);l.x=c.x+t.clientLeft;l.y=c.y+t.clientTop}else if(i){l.x=getWindowScrollBarX(i)}}return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}var platform={getClippingRect:getClippingRect,convertOffsetParentRelativeRectToViewportRelativeRect:convertOffsetParentRelativeRectToViewportRelativeRect,isElement:isElement,getDimensions:getDimensions,getOffsetParent:getOffsetParent,getDocumentElement:getDocumentElement,getScale:getScale,getElementRects:function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,n,i,o,a,s,l;var c;return __generator(this,(function(u){switch(u.label){case 0:t=e.reference,r=e.floating,n=e.strategy;i=this.getOffsetParent||getOffsetParent;o=this.getDimensions;c={};a=getRectRelativeToOffsetParent;s=[t];return[4,i(r)];case 1:c.reference=a.apply(void 0,s.concat([u.sent(),n]));l=[{x:0,y:0}];return[4,o(r)];case 2:return[2,(c.floating=__assign.apply(void 0,l.concat([u.sent()])),c)]}}))}))},getClientRects:function(e){return Array.from(e.getClientRects())},isRTL:function(e){return getComputedStyle$1(e).direction==="rtl"}};function autoUpdate(e,t,r,n){if(n===void 0){n={}}var i=n.ancestorScroll,o=i===void 0?true:i,a=n.ancestorResize,s=a===void 0?true:a,l=n.elementResize,c=l===void 0?true:l,u=n.animationFrame,p=u===void 0?false:u;var f=o||s?__spreadArray(__spreadArray([],isElement(e)?getOverflowAncestors(e):e.contextElement?getOverflowAncestors(e.contextElement):[],true),getOverflowAncestors(t),true):[];f.forEach((function(e){var t=!isElement(e)&&e.toString().includes("V");if(o&&(p?t:true)){e.addEventListener("scroll",r,{passive:true})}s&&e.addEventListener("resize",r)}));var d=null;if(c){d=new ResizeObserver((function(){r()}));isElement(e)&&!p&&d.observe(e);if(!isElement(e)&&e.contextElement&&!p){d.observe(e.contextElement)}d.observe(t)}var g;var h=p?getBoundingClientRect(e):null;if(p){v()}function v(){var t=getBoundingClientRect(e);if(h&&(t.x!==h.x||t.y!==h.y||t.width!==h.width||t.height!==h.height)){r()}h=t;g=requestAnimationFrame(v)}r();return function(){var e;f.forEach((function(e){o&&e.removeEventListener("scroll",r);s&&e.removeEventListener("resize",r)}));(e=d)==null?void 0:e.disconnect();d=null;if(p){cancelAnimationFrame(g)}}}var computePosition=function(e,t,r){var n=new Map;var i=__assign({platform:platform},r);var o=__assign(__assign({},i.platform),{_c:n});return computePosition$1(e,t,__assign(__assign({},i),{platform:o}))};var PopoverVariantRenderer=function(e){__extends(t,e);function t(){var t=e.apply(this,arguments)||this;t.placement="bottom";t.offset=0;t.arrow=false;t.backdrop=false;t.reference=undefined;t.triggerEl=null;return t}t.prototype.present=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r;var n=this;return __generator(this,(function(i){if(!e.trigger&&balBrowser.hasDocument){t=Array.from(document.querySelectorAll('[bal-popup="'.concat(e.el.id,'"]')))[0];e.trigger=t}if(e.trigger&&e.containerEl&&e.arrowEl){this.placement=e.getValue(e.trigger,"bal-popup-placement",e.placement);this.arrow=e.getBooleanValue(e.trigger,"bal-popup-arrow",e.arrow);this.backdrop=e.getBooleanValue(e.trigger,"bal-popup-backdrop",e.backdrop);this.reference=e.getValue(e.trigger,"bal-popup-reference",e.reference);this.offset=e.getNumberValue(e.trigger,"bal-popup-offset",e.offset);this.triggerEl=e.trigger;if(this.reference&&balBrowser.hasDocument){r=document.getElementById(this.reference);this.triggerEl=r?r:e.trigger}if(this.triggerEl){this.showContainerElement(e);this.showBackdropElement(e,this.backdrop);this.showArrowElement(e,this.arrow);this.triggerEl.classList.add("bal-popup-variant-popover-trigger");this.cleanup=autoUpdate(this.triggerEl,e.containerEl,(function(){n.update(e)}));return[2,true]}}return[2,false]}))}))};t.prototype.update=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,n,i,o,a,s,l;return __generator(this,(function(c){if(this.triggerEl&&e.trigger&&e.containerEl&&e.arrowEl){n=this.placement==="bottom-end"&&this.triggerEl!==e.trigger;i=0;if(n){o=(t=this.triggerEl)===null||t===void 0?void 0:t.getBoundingClientRect();a=(r=e.trigger)===null||r===void 0?void 0:r.getBoundingClientRect();s=a.x-o.x;l=440-o.width;i=l+s+a.width/2-4}computePosition(this.triggerEl,e.containerEl,{placement:this.placement,middleware:[shift(),flip(),offset(this.arrow?16:this.offset),arrow({element:e.arrowEl,padding:4})]}).then((function(t){var r,o;var a=t.x,s=t.y,l=t.middlewareData,c=t.placement;if(e.containerEl){Object.assign(e.containerEl.style,{left:"".concat(a,"px"),top:"".concat(s,"px")});var u=c.split("-")[0];var p={top:"bottom",right:"left",bottom:"top",left:"right"}[u];if(l.arrow&&e.arrowEl){var f=l.arrow;if(n){Object.assign(e.arrowEl.style,(r={left:"".concat(i,"px"),top:s!=null&&f.y!=null?"".concat(f.y,"px"):"",right:"",bottom:""},r[p]="".concat(-4,"px"),r))}else{Object.assign(e.arrowEl.style,(o={left:a!=null&&f.x!=null?"".concat(f.x,"px"):"",top:s!=null&&f.y!=null?"".concat(f.y,"px"):"",right:"",bottom:""},o[p]="".concat(-4,"px"),o))}}}}));return[2,true]}return[2,false]}))}))};t.prototype.dismiss=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(e.containerEl&&e.arrowEl&&this.triggerEl){if(this.cleanup){this.cleanup()}this.triggerEl.classList.remove("bal-popup-variant-popover-trigger");this.hideBackdropElement(e);this.hideContainerElement(e);this.hideArrowElement(e);return[2,true]}return[2,false]}))}))};return t}(AbstractVariantRenderer);var VariantRenderer=function(){function e(e){this.renderer=e}e.prototype.present=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:e.balWillAnimate.emit();return[4,this.renderer.present(e)];case 1:t=r.sent();if(t){e.presented=true;e.balDidAnimate.emit()}return[2,t]}}))}))};e.prototype.update=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:e.balWillAnimate.emit();return[4,this.renderer.update(e)];case 1:t=r.sent();if(t){e.balDidAnimate.emit()}return[2,t]}}))}))};e.prototype.dismiss=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:e.balWillAnimate.emit();return[4,this.renderer.dismiss(e)];case 1:t=r.sent();if(t){e.presented=false;e.balDidAnimate.emit()}return[2,t]}}))}))};return e}();var balPopupCss=":root{--bal-popup-backdrop-background:rgba(0,7,57,.8);--bal-popup-container-padding-top:0;--bal-popup-container-padding-bottom:0;--bal-popup-container-background:var(--bal-color-white);--bal-popup-variant-popover-max-width:auto;--bal-popup-variant-popover-radius:var(--bal-radius-large);--bal-popup-variant-popover-shadow:var(--bal-shadow-large);--bal-popup-variant-drawer-radius:var(--bal-radius-large);--bal-popup-arrow-background:var(--bal-color-white)}.bal-popup{position:static;display:inline;z-index:var(--bal-z-index-popup)}.bal-popup__container{background:var(--bal-popup-container-background);display:none;visibility:hidden;padding-top:var(--bal-popup-container-padding-top);padding-bottom:var(--bal-popup-container-padding-bottom)}.bal-popup__container--variant-popover{border-radius:var(--bal-popup-variant-popover-radius);-webkit-box-shadow:var(--bal-popup-variant-popover-shadow);box-shadow:var(--bal-popup-variant-popover-shadow);width:var(--bal-popup-variant-popover-max-width);position:absolute;top:0;left:0}.bal-popup__container--variant-fullscreen{position:fixed;margin:0;width:100%;min-width:100%;max-width:100% !important;min-height:var(--bal-app-height, 100%)}.bal-popup__container--variant-drawer{position:fixed;border-top-left-radius:var(--bal-popup-variant-drawer-radius);border-top-right-radius:var(--bal-popup-variant-drawer-radius);width:100%}.bal-popup__inner{overflow-y:auto;max-height:calc(var(--bal-app-height, 100%) - 8rem)}.bal-popup__inner__head{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bal-popup__inner__content{width:100%}.bal-popup__arrow{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;width:8px;height:8px;background:var(--bal-popup-arrow-background);-webkit-transform:rotate(45deg);transform:rotate(45deg);display:none;visibility:hidden}.bal-popup__backdrop{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;bottom:0;left:0;right:0;top:0;background-color:var(--bal-popup-backdrop-background);width:100vw;display:none;visibility:hidden}.bal-popup-variant-popover-trigger,.bal-popup-permanent-trigger{z-index:calc(var(--bal-z-index-popup) + 1) !important;position:relative !important}";var __decorate=undefined&&undefined.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var Popup=function(){function e(e){var t=this;registerInstance(this,e);this.balChange=createEvent(this,"balChange",7);this.balWillAnimate=createEvent(this,"balWillAnimate",7);this.balDidAnimate=createEvent(this,"balDidAnimate",7);this.popupId="bal-pu-".concat(popupIds++);this.isClickedOutsideOnMouseDown=false;this.isClickedOutsideOnMouseUp=false;this.popoverVariantRenderer=new VariantRenderer(new PopoverVariantRenderer);this.fullscreenVariantRenderer=new VariantRenderer(new FullscreenVariantRenderer);this.drawerVariantRenderer=new VariantRenderer(new DrawerVariantRenderer);this.lastVariant="popover";this.initialActive=this.active;this.debouncedGlobalClick=debounce((function(e){return t.notifyGlobalClick(e)}),10);this.onBackdropClick=function(e){if(t.activeBackdropDismiss&&t.presented&&e&&e.target){var r=e.target;return r.classList.contains("bal-popup__backdrop")}return false};this.onCloseClick=function(){if(t.activeClosable){t.dismiss()}};this.activeClosable=false;this.activeBackdropDismiss=false;this.activeVariant="popover";this.trigger=undefined;this.lastTrigger=undefined;this.label="";this.reference=undefined;this.variant="popover";this.placement="bottom";this.arrow=false;this.backdrop=false;this.offset=0;this.closable=false;this.backdropDismiss=false;this.active=false;this.presented=false;this.contentWidth=undefined}e.prototype.createLogger=function(e){this.log=e};e.prototype.variantChanged=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){switch(r.label){case 0:if(!(e!==t))return[3,5];return[4,this.getVariantRenderer(t).dismiss(this)];case 1:r.sent();if(!(this.activeVariant!==e))return[3,3];this.lastVariant=this.activeVariant;this.activeVariant=e;return[4,this.getVariantRenderer(this.lastVariant).dismiss(this)];case 2:r.sent();r.label=3;case 3:if(!this.presented)return[3,5];return[4,this.getVariantRenderer(e).present(this)];case 4:r.sent();r.label=5;case 5:return[2]}}))}))};e.prototype.activeChanged=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(r){if(e!==t&&e!==this.presented){if(e){this.present()}else{this.dismiss()}}return[2]}))}))};e.prototype.contentWidthChanged=function(e,t){if(e!==t){if(e===undefined){this.el.style.removeProperty("--bal-popup-variant-popover-max-width")}else{this.el.style.setProperty("--bal-popup-variant-popover-max-width","".concat(this.contentWidth,"px"))}}};e.prototype.componentDidLoad=function(){this.contentWidthChanged(this.contentWidth,0);if(this.initialActive===true&&this.presented!==true){this.present()}};e.prototype.listenOnGlobalClick=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,n,i;return __generator(this,(function(o){r=e.target;n=r.closest("[bal-popup]");if(n&&balBrowser.hasWindow){i=((t=n.attributes.getNamedItem("bal-popup"))===null||t===void 0?void 0:t.nodeValue)||"";if(this.el.id===i){this.debouncedGlobalClick(n)}}return[2]}))}))};e.prototype.listenOnKeyDown=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(this.activeClosable&&this.presented&&isEscapeKey(e)){stopEventBubbling(e);this.dismiss()}return[2]}))}))};e.prototype.listenOnMouseDown=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.isClickedOutsideOnMouseDown=this.onBackdropClick(e);return[2]}))}))};e.prototype.listenOnMouseUp=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.isClickedOutsideOnMouseUp=this.onBackdropClick(e);return[2]}))}))};e.prototype.listenOnComponentClick=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:if(!(this.presented&&this.activeBackdropDismiss&&this.isClickedOutsideOnMouseUp&&this.isClickedOutsideOnMouseDown))return[3,2];return[4,this.dismiss()];case 1:e.sent();e.label=2;case 2:return[2]}}))}))};e.prototype.present=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.resetAllVariants()];case 1:e.sent();return[4,this._present()];case 2:if(e.sent()){this.lastTrigger=this.trigger;this.balChange.emit(this.presented)}return[2]}}))}))};e.prototype.dismiss=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.resetAllVariants()];case 1:e.sent();return[4,this._dismiss()];case 2:if(e.sent()){this.lastTrigger=this.trigger;this.balChange.emit(this.presented)}return[2]}}))}))};e.prototype.toggle=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.presented){return[2,this.dismiss()]}else{return[2,this.present()]}return[2]}))}))};e.prototype._emitChange=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.balChange.emit(this.presented);return[2]}))}))};e.prototype._present=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:if(balBrowser.hasDocument){this.lastFocus=document.activeElement||undefined}if(!this.lastVariantRenderer)return[3,2];return[4,this.lastVariantRenderer.dismiss(this)];case 1:t.sent();this.presented=true;t.label=2;case 2:this.lastVariantRenderer=this.getVariantRenderer();return[4,this.lastVariantRenderer.present(this)];case 3:e=t.sent();this.focusFirstDescendant();return[2,e]}}))}))};e.prototype._dismiss=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.getVariantRenderer().dismiss(this)];case 1:t=r.sent();this.lastVariantRenderer=undefined;if(this.lastFocus&&this.lastFocus.focus){(e=this.lastFocus)===null||e===void 0?void 0:e.focus()}return[2,t]}}))}))};e.prototype.getVariantRenderer=function(e){if(e===void 0){e=this.activeVariant}switch(e){case"fullscreen":return this.fullscreenVariantRenderer;case"drawer":return this.drawerVariantRenderer;default:return this.popoverVariantRenderer}};e.prototype.getValue=function(e,t,r){var n=e.attributes.getNamedItem(t);return n?n.value:r};e.prototype.getNumberValue=function(e,t,r){var n=e.attributes.getNamedItem(t);if(n){return parseInt(n.value,10)||r}return r};e.prototype.getBooleanValue=function(e,t,r){var n=e.attributes.getNamedItem(t);if(n){var i=n.value===""||n.value==="true"?true:false;return n?i:r}return r};e.prototype.notifyGlobalClick=function(e){this.trigger=e;this.lastTrigger=this.lastTrigger===undefined?this.trigger:this.lastTrigger;this.activeVariant=this.getValue(e,"bal-popup-variant",this.variant);this.activeClosable=this.getBooleanValue(e,"bal-popup-closable",this.closable);this.activeBackdropDismiss=this.getBooleanValue(e,"bal-popup-backdrop-dismiss",this.backdropDismiss);if(this.presented&&this.lastTrigger!==this.trigger){this._present()}else{this.toggle()}};e.prototype.resetAllVariants=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.dismissAllOtherPopups()];case 1:t.sent();if(!(this.lastVariant!==this.activeVariant))return[3,3];e=this.getVariantRenderer(this.lastVariant);return[4,e.dismiss(this)];case 2:t.sent();t.label=3;case 3:this.lastVariant=this.activeVariant;return[2]}}))}))};e.prototype.dismissAllOtherPopups=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r;var n=this;return __generator(this,(function(i){switch(i.label){case 0:if(!balBrowser.hasDocument)return[3,5];e=Array.from(document.getElementsByTagName("bal-popup")).filter((function(e){return e.id!==n.el.id&&e.ariaHidden!=="true"}));t=0;i.label=1;case 1:if(!(t<e.length))return[3,5];r=e[t];return[4,r._dismiss()];case 2:i.sent();return[4,r._emitChange()];case 3:i.sent();i.label=4;case 4:t++;return[3,1];case 5:return[2]}}))}))};e.prototype.focusFirstDescendant=function(){var e=this.el;var t=e.querySelector(focusableQueryString);if(t){t.focus()}else{e.focus()}};e.prototype.render=function(){var e=this;var t=BEM.block("popup");var r=t.element("container");var n=t.element("arrow");var i=t.element("backdrop");var o=t.element("inner");var a=o.element("head");var s=o.element("content");return h(Host,{class:Object.assign({},t.class()),role:"dialog","aria-hidden":"".concat(this.presented!==true),"aria-modal":"".concat(this.presented===true),"aria-presented":"".concat(this.presented===true),"aria-labelledby":"".concat(this.popupId,"-heading")},h("div",{class:Object.assign({},i.class()),ref:function(t){return e.backdropEl=t}}),h("div",{class:Object.assign(Object.assign({},r.class()),r.modifier("variant-".concat(this.activeVariant)).class()),ref:function(t){return e.containerEl=t}},h("div",{class:Object.assign({},n.class()),ref:function(t){return e.arrowEl=t}}),h("bal-stack",{layout:"vertical",px:this.activeVariant==="popover"?"medium":"none",py:"medium",class:Object.assign({},o.class())},this.label?h("bal-stack",{space:"auto",class:Object.assign({},a.class())},h("bal-heading",{"data-test":"bal-popup-label",level:"span","visual-level":"large",id:"".concat(this.popupId,"-heading")},this.label),this.activeClosable?h("bal-close",{"data-test":"bal-popup-close",tabindex:-1,onClick:function(){return e.onCloseClick()}}):""):"",h("div",{class:Object.assign({},s.class()),ref:function(t){return e.contentEl=t},"data-test":"bal-popup-content"},h("slot",null)))))};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{variant:["variantChanged"],active:["activeChanged"],contentWidth:["contentWidthChanged"]}},enumerable:false,configurable:true});return e}();__decorate([Logger("bal-popup")],Popup.prototype,"createLogger",null);var popupIds=0;Popup.style={css:balPopupCss};export{Popup as bal_popup};