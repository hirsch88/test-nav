import{h as e,r as t,c as a,H as o,g as s}from"./p-e85eaa4e.js";import{m as r}from"./p-7f5e6a6c.js";import{B as l}from"./p-61996a75.js";import{L as i}from"./p-585cea76.js";import{g as b}from"./p-6b2d19d0.js";import{s as n}from"./p-785037ba.js";import{n as c}from"./p-f3413edf.js";import{L as d}from"./p-4c2769b7.js";import{b as p}from"./p-12b924ac.js";import{L as v}from"./p-77363de8.js";import"./p-add1e9ec.js";import"./p-55865e45.js";import"./p-9a3d9e17.js";import"./p-3e8ff66b.js";import"./p-350daa19.js";import"./p-f146219b.js";import"./p-393ab408.js";const m=({item:t,isMobile:a})=>{const o=l.block("steps").element("nav").element("item").element("icon");return e("span",{class:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.class()),o.modifier("done").class(t.done)),o.modifier("active").class(t.active)),o.modifier("failed").class(t.failed)),o.modifier("disabled").class(t.disabled))},e("bal-icon",{style:{display:t.done?"block":"none"},size:a?"small":"",color:t.disabled?"grey":"white",name:"check"}),e("span",{style:{display:t.done?"none":"block"}},t.failed?"!":(t.index||0)+1))},_=({item:t})=>{const a=l.block("steps").element("nav").element("item").element("label");return e("span",{class:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a.class()),a.modifier("done").class(t.done)),a.modifier("active").class(t.active)),a.modifier("failed").class(t.failed)),a.modifier("disabled").class(t.disabled)),"data-testid":"bal-steps-option-label"},t.label)},h=({item:t,isMobile:a,clickable:o,onSelectTab:s})=>{const r=l.block("steps").element("nav").element("item");if(!t.hidden)return e("a",{role:"tab",class:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r.class()),r.modifier("done").class(t.done)),r.modifier("active").class(t.active)),r.modifier("failed").class(t.failed)),r.modifier("disabled").class(t.disabled)),r.modifier("clickable").class(o)),r.modifier("passed").class(t.passed)),{"bal-focusable":!t.disabled&&!t.hidden}),"data-label":t.label,"data-value":t.value,"data-index":t.index,"data-testid":"bal-steps-option","aria-disabled":`${t.disabled}`,href:""===t.href?"javascript:;":t.href,target:t.target,onClick:e=>s(e,t)},e(m,{item:t,isMobile:a}),e(_,{item:t}))};var u=function(e,t,a,o){var s,r=arguments.length,l=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,o);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(l=(r<3?s(l):r>3?s(t,a,l):s(t,a))||l);return r>3&&l&&Object.defineProperty(t,a,l),l};const f=class{constructor(e){t(this,e),this.balChange=a(this,"balChange",7),this.stepsId="bal-steps-"+g++,this.mutationObserverActive=!0,this.getStepOptions=()=>this.options.length>0?[...this.options.map(c)]:Promise.all(this.items.map((e=>e.getOptions()))),this.updateStore=e=>{b(this.store,e)||(this.store=e)},this.setActiveItem=()=>{const e=this.store.filter((e=>e.active));e.length>0?this.value=e[0].value:void 0===this.value&&this.store.length>0&&(this.value=this.store[0].value)},this.setActiveContent=()=>{0===this.options.length&&this.items.forEach((e=>e.setActive(this.isActive(e))))},this.onOptionChange=async()=>{try{const e=await this.getStepOptions();this.updateStore(e),this.setActiveItem(),this.setActiveContent()}catch(e){console.warn("[WARN] - Could not read tab options")}},this.onSelectTab=async(e,t)=>{(t.prevent||t.disabled||!this.clickable)&&n(e),t.disabled||(t.navigate&&t.navigate.emit(e),this.clickable&&t.value!==this.value&&(this.balChange.emit(t.value),await this.select(t)))},this.isMobile=p.isMobile,this.store=[],this.options=[],this.clickable=!0,this.debounce=0,this.value=void 0}createLogger(e){this.log=e}async optionChanged(){this.onOptionChange(),this.mutationObserverActive=void 0===this.options||this.options.length<1}debounceChanged(){this.balChange=r(this.balChange,this.debounce)}async valueChanged(e,t){e!==t&&this.onOptionChange()}connectedCallback(){this.debounceChanged(),this.mutationObserverActive=void 0===this.options||this.options.length<1}componentDidLoad(){this.onOptionChange()}mutationListener(){this.onOptionChange()}breakpointListener(e){this.isMobile=e.mobile}async select(e){this.value=e.value}async getOptionByValue(e){return this.store.find((t=>t.value===e))}get items(){return Array.from(this.el.querySelectorAll(`#${this.stepsId} > bal-step-item`))}isActive(e){return e.value===this.value}render(){const t=l.block("steps"),a=t.element("nav");let s=!0,r=-1;const i=this.store.map((e=>Object.assign(Object.assign({},e),{active:e.value===this.value}))).map((e=>(e.active&&(s=!1),e.hidden||(r+=1),Object.assign(Object.assign({},e),{passed:s,index:r}))));return e(o,{class:Object.assign({},t.class()),"data-value":this.store.filter((e=>this.isActive(e))).map((e=>e.value)).join(","),"data-label":this.store.filter((e=>this.isActive(e))).map((e=>e.label)).join(",")},e("nav",{role:"tablist",class:Object.assign({},a.class())},e("bal-carousel",{class:Object.assign({},a.element("carousel").class()),onBalChange:n,controls:"small","items-per-view":"auto",steps:3},i.filter((e=>!e.hidden)).map((t=>e("bal-carousel-item",{class:Object.assign(Object.assign({},a.element("carousel").element("item").class()),a.element("carousel").element("item").modifier("passed").class(t.passed))},e(h,{item:t,isMobile:this.isMobile,clickable:this.clickable&&!t.disabled,onSelectTab:this.onSelectTab})))))),e("div",{id:this.stepsId,class:Object.assign({},t.element("steps__content").class())},e("slot",null)))}get el(){return s(this)}static get watchers(){return{options:["optionChanged"],debounce:["debounceChanged"],value:["valueChanged"]}}};u([i("bal-steps")],f.prototype,"createLogger",null),u([d({tags:["bal-steps","bal-step-item"]})],f.prototype,"mutationListener",null),u([v()],f.prototype,"breakpointListener",null);let g=0;f.style={css:'@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow) !important;box-shadow:var(--bal-focus-shadow) !important}}@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused.bal-steps__nav__item--inverted .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow-inverted) !important;box-shadow:var(--bal-focus-shadow-inverted) !important}}@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow) !important;box-shadow:var(--bal-focus-shadow) !important}}@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused.bal-steps__nav__item--inverted .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow-inverted) !important;box-shadow:var(--bal-focus-shadow-inverted) !important}}:root{--bal-steps-step-icon-background:var(--bal-color-white);--bal-steps-step-icon-background-active:var(--bal-color-primary);--bal-steps-step-icon-background-disabled:var(--bal-color-grey-2);--bal-steps-step-icon-background-done:var(--bal-color-primary);--bal-steps-step-icon-background-failed:var(--bal-color-danger);--bal-steps-step-button-progress-line-background:var(--bal-form-field-control-border-color);--bal-steps-step-button-passed-background:var(--bal-form-field-control-border-color-active);--bal-steps-step-button-carousel-item-background-after:var(--bal-form-field-control-border-color);--bal-steps-step-button-carousel-item-passed-background-after:var(--bal-form-field-control-border-color-active);--bal-steps-step-border-width:var(--bal-form-field-control-border-width);--bal-steps-step-border-style:var(--bal-form-field-control-border-style);--bal-steps-step-border-color:var(--bal-form-field-control-border-color);--bal-steps-step-border-color-active:var(--bal-form-field-control-border-color-active);--bal-steps-step-border-color-disabled:var(--bal-form-field-control-disabled-background);--bal-steps-step-border-color-done:var(--bal-form-field-control-border-color-active);--bal-steps-step-border-color-failed:var(--bal-color-danger);--bal-steps-step-icon-radius:var(--bal-radius-rounded);--bal-steps-step-button-progress-line-radius:var(--bal-radius-rounded);--bal-steps-step-button-carousel-item-radius:var(--bal-radius-rounded);--bal-steps-step-label-text-color:var(--bal-color-text-primary-light);--bal-steps-step-label-text-color-done:var(--bal-color-text-primary);--bal-steps-step-label-text-color-active:var(--bal-color-text-primary);--bal-steps-step-label-text-color-failed:var(--bal-color-text-danger);--bal-steps-step-label-text-color-disabled:var(--bal-color-text-grey);--bal-steps-step-icon-text-color:var(--bal-color-text-white-inverted);--bal-steps-step-icon-text-color-active:var(--bal-color-text-primary-inverted);--bal-steps-step-icon-text-color-disabled:var(--bal-color-text-grey);--bal-steps-step-icon-text-color-done:var(--bal-color-text-primary-inverted);--bal-steps-step-icon-text-color-failed:var(--bal-color-text-white)}.bal-steps__nav__item{display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;gap:.5rem;-ms-flex-direction:column;flex-direction:column;-ms-flex-preferred-size:1rem;flex-basis:1rem;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;text-decoration:none;cursor:default;position:relative;min-width:3rem;padding-top:6px}.bal-steps__nav__item--hidden{display:none !important;visibility:hidden !important}.bal-steps__nav__item--clickable{cursor:pointer;pointer-events:all}.bal-steps__nav__item:not(:last-child)::after{content:" ";display:block;position:absolute;height:var(--bal-border-width-normal);left:50%;right:-50%;top:50%;background-color:var(--bal-steps-step-button-progress-line-background);border-radius:var(--bal-steps-step-button-progress-line-radius);margin-top:3px;margin-left:calc(1.5rem - var(--bal-border-width-normal));margin-right:1.25rem}@media screen and (min-width: 769px),print{.bal-steps__nav__item:not(:last-child)::after{top:1rem;margin-top:6px;margin-left:calc(1.5rem - var(--bal-border-width-normal));margin-right:1.5rem}}.bal-steps__nav__item--passed:not(:last-child)::after{background-color:var(--bal-steps-step-button-passed-background)}.bal-steps__nav__carousel__item{-ms-flex:1;flex:1;min-width:3rem}.bal-steps__nav__carousel__item:not(:last-child)::after{content:" ";display:block;position:absolute;height:var(--bal-border-width-normal);left:50%;right:-50%;top:50%;background-color:var(--bal-steps-step-button-carousel-item-background-after);border-radius:var(--bal-steps-step-button-carousel-item-radius);margin-top:3px;margin-left:1.25rem;margin-right:1.25rem}@media screen and (min-width: 769px),print{.bal-steps__nav__carousel__item:not(:last-child)::after{top:1rem;margin-top:6px;margin-left:1.5rem;margin-right:1.5rem}}.bal-steps__nav__carousel__item--passed:not(:last-child)::after{background-color:var(--bal-steps-step-button-carousel-item-passed-background-after)}@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow) !important;box-shadow:var(--bal-focus-shadow) !important}}@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused.bal-steps__nav__item--inverted .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow-inverted) !important;box-shadow:var(--bal-focus-shadow-inverted) !important}}:root{--bal-steps-step-icon-background:var(--bal-color-white);--bal-steps-step-icon-background-active:var(--bal-color-primary);--bal-steps-step-icon-background-disabled:var(--bal-color-grey-2);--bal-steps-step-icon-background-done:var(--bal-color-primary);--bal-steps-step-icon-background-failed:var(--bal-color-danger);--bal-steps-step-button-progress-line-background:var(--bal-form-field-control-border-color);--bal-steps-step-button-passed-background:var(--bal-form-field-control-border-color-active);--bal-steps-step-button-carousel-item-background-after:var(--bal-form-field-control-border-color);--bal-steps-step-button-carousel-item-passed-background-after:var(--bal-form-field-control-border-color-active);--bal-steps-step-border-width:var(--bal-form-field-control-border-width);--bal-steps-step-border-style:var(--bal-form-field-control-border-style);--bal-steps-step-border-color:var(--bal-form-field-control-border-color);--bal-steps-step-border-color-active:var(--bal-form-field-control-border-color-active);--bal-steps-step-border-color-disabled:var(--bal-form-field-control-disabled-background);--bal-steps-step-border-color-done:var(--bal-form-field-control-border-color-active);--bal-steps-step-border-color-failed:var(--bal-color-danger);--bal-steps-step-icon-radius:var(--bal-radius-rounded);--bal-steps-step-button-progress-line-radius:var(--bal-radius-rounded);--bal-steps-step-button-carousel-item-radius:var(--bal-radius-rounded);--bal-steps-step-label-text-color:var(--bal-color-text-primary-light);--bal-steps-step-label-text-color-done:var(--bal-color-text-primary);--bal-steps-step-label-text-color-active:var(--bal-color-text-primary);--bal-steps-step-label-text-color-failed:var(--bal-color-text-danger);--bal-steps-step-label-text-color-disabled:var(--bal-color-text-grey);--bal-steps-step-icon-text-color:var(--bal-color-text-white-inverted);--bal-steps-step-icon-text-color-active:var(--bal-color-text-primary-inverted);--bal-steps-step-icon-text-color-disabled:var(--bal-color-text-grey);--bal-steps-step-icon-text-color-done:var(--bal-color-text-primary-inverted);--bal-steps-step-icon-text-color-failed:var(--bal-color-text-white)}.bal-steps__nav__item__icon{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;font-weight:var(--bal-weight-bold);border-radius:var(--bal-steps-step-icon-radius);font-size:var(--bal-size-small);height:1.5rem;width:1.5rem;left:calc(50% - .75rem);border:var(--bal-steps-step-border-width) var(--bal-steps-step-border-style) var(--bal-steps-step-border-color);background:var(--bal-steps-step-icon-background);color:var(--bal-steps-step-icon-text-color)}@media screen and (min-width: 769px),print{.bal-steps__nav__item__icon{height:2rem;width:2rem;left:calc(50% - 1rem);font-size:var(--bal-size-normal)}}.bal-steps__nav__item__icon--active{border-color:var(--bal-steps-step-border-color-active);background:var(--bal-steps-step-icon-background-active);color:var(--bal-steps-step-icon-text-color-active)}.bal-steps__nav__item__icon--done{border-color:var(--bal-steps-step-border-color-done);background:var(--bal-steps-step-icon-background-done);color:var(--bal-steps-step-icon-text-color-done)}.bal-steps__nav__item__icon--failed{border-color:var(--bal-steps-step-border-color-failed);background:var(--bal-steps-step-icon-background-failed);color:var(--bal-steps-step-icon-text-color-failed);font-size:var(--bal-size-normal)}@media screen and (min-width: 769px),print{.bal-steps__nav__item__icon--failed{font-size:var(--bal-size-tablet-large)}}@media screen and (min-width: 1024px){.bal-steps__nav__item__icon--failed{font-size:var(--bal-size-desktop-large)}}.bal-steps__nav__item__icon--disabled{border-color:var(--bal-steps-step-border-color-disabled);background:var(--bal-steps-step-icon-background-disabled);color:var(--bal-steps-step-icon-text-color-disabled)}@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow) !important;box-shadow:var(--bal-focus-shadow) !important}}@media (hover: hover)and (pointer: fine){.bal-steps__nav__item.bal-focused.bal-steps__nav__item--inverted .bal-steps__nav__item__icon{-webkit-box-shadow:var(--bal-focus-shadow-inverted) !important;box-shadow:var(--bal-focus-shadow-inverted) !important}}.bal-steps__nav__item__label{display:none}@media screen and (min-width: 769px),print{.bal-steps__nav__item__label{display:block;font-family:var(--bal-font-family-title);font-weight:var(--bal-weight-bold);font-size:var(--bal-size-normal);text-align:center;width:100%;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--bal-steps-step-label-text-color)}.bal-steps__nav__item__label--done{color:var(--bal-steps-step-label-text-color-done)}.bal-steps__nav__item__label--active{color:var(--bal-steps-step-label-text-color-active)}.bal-steps__nav__item__label--failed{color:var(--bal-steps-step-label-text-color-failed)}.bal-steps__nav__item__label--disabled{color:var(--bal-steps-step-label-text-color-disabled)}}.bal-steps{display:block;position:static}.bal-steps__nav{-webkit-overflow-scrolling:touch;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bal-step-item{width:100%;display:none}.bal-step-item--active{display:block}'};export{f as bal_steps}