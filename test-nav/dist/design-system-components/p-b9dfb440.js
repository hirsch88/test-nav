import{L as s,a as t}from"./p-350daa19.js";import{b as e}from"./p-add1e9ec.js";import{d as i}from"./p-7f5e6a6c.js";class n extends s{constructor(){super(...arguments),this.debouncedNotify=i((()=>this.notify()),10)}connect(s){var t;super.connect(s),"undefined"!=typeof ResizeObserver&&(void 0!==this.resizeObserver&&(null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.resizeObserver=void 0),this.resizeObserver=new ResizeObserver((s=>{e.hasWindow&&window.requestAnimationFrame((()=>{Array.isArray(s)&&s.length&&this.debouncedNotify()}))})),this.resizeObserver.observe(s))}disconnect(){var s;super.disconnect(),null===(s=this.resizeObserver)||void 0===s||s.disconnect(),this.resizeObserver=void 0}}class r extends t{constructor(){super((s=>{s.resizeListener({})})),this.listener=new n}attach(s){super.attach(s),this.listener.connect(s.el),this.listener.add((s=>super.notify(s)))}detach(){super.detach(),this.listener.disconnect()}}function o(){return function(s){const{connectedCallback:t,disconnectedCallback:e}=s;s.connectedCallback=function(){return this._balResizeSubject=new r,this._balResizeSubject.attach(this),t&&t.call(this)},s.disconnectedCallback=function(){return this._balResizeSubject.detach(),e&&e.call(this)}}}export{o as L}